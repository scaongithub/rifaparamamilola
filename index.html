// package.json
{
  "name": "rifa-benefica-mexicana",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "14.0.0",
    "react": "^18",
    "react-dom": "^18",
    "@vercel/postgres": "^0.5.0"
  },
  "devDependencies": {
    "eslint": "^8",
    "eslint-config-next": "14.0.0"
  }
}

// =============================================================================
// pages/api/tickets/index.js - API para obtener todos los boletos
// =============================================================================
import { sql } from '@vercel/postgres';

export default async function handler(req, res) {
  if (req.method === 'GET') {
    try {
      // Crear tabla si no existe
      await sql`
        CREATE TABLE IF NOT EXISTS tickets (
          id SERIAL PRIMARY KEY,
          ticket_number INTEGER UNIQUE NOT NULL,
          buyer_name VARCHAR(255),
          is_sold BOOLEAN DEFAULT FALSE,
          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
          sold_at TIMESTAMP
        )
      `;

      // Inicializar boletos si la tabla estÃ¡ vacÃ­a
      const { rows: existingTickets } = await sql`SELECT COUNT(*) FROM tickets`;
      if (parseInt(existingTickets[0].count) === 0) {
        for (let i = 1; i <= 40; i++) {
          await sql`
            INSERT INTO tickets (ticket_number, buyer_name, is_sold)
            VALUES (${i}, '', FALSE)
          `;
        }
      }

      // Obtener todos los boletos
      const { rows } = await sql`
        SELECT * FROM tickets ORDER BY ticket_number ASC
      `;

      res.status(200).json({
        success: true,
        tickets: rows,
        stats: {
          total: rows.length,
          sold: rows.filter(t => t.is_sold).length,
          available: rows.filter(t => !t.is_sold).length
        }
      });
    } catch (error) {
      console.error('Database error:', error);
      res.status(500).json({ 
        success: false, 
        error: 'Error al obtener boletos' 
      });
    }
  } else {
    res.setHeader('Allow', ['GET']);
    res.status(405).end(`Method ${req.method} Not Allowed`);
  }
}

// =============================================================================
// pages/api/tickets/[number].js - API para marcar boleto como vendido
// =============================================================================
import { sql } from '@vercel/postgres';

export default async function handler(req, res) {
  const { number } = req.query;
  const ticketNumber = parseInt(number);

  if (req.method === 'PUT') {
    try {
      const { buyer_name } = req.body;

      if (!buyer_name || buyer_name.trim() === '') {
        return res.status(400).json({
          success: false,
          error: 'El nombre del comprador es requerido'
        });
      }

      // Verificar que el boleto existe y no estÃ¡ vendido
      const { rows: existingTicket } = await sql`
        SELECT * FROM tickets WHERE ticket_number = ${ticketNumber}
      `;

      if (existingTicket.length === 0) {
        return res.status(404).json({
          success: false,
          error: 'Boleto no encontrado'
        });
      }

      if (existingTicket[0].is_sold) {
        return res.status(409).json({
          success: false,
          error: 'Este boleto ya estÃ¡ vendido'
        });
      }

      // Marcar como vendido
      await sql`
        UPDATE tickets 
        SET buyer_name = ${buyer_name.trim()}, 
            is_sold = TRUE, 
            sold_at = CURRENT_TIMESTAMP
        WHERE ticket_number = ${ticketNumber}
      `;

      // Obtener el boleto actualizado
      const { rows: updatedTicket } = await sql`
        SELECT * FROM tickets WHERE ticket_number = ${ticketNumber}
      `;

      res.status(200).json({
        success: true,
        message: 'Boleto vendido exitosamente',
        ticket: updatedTicket[0]
      });
    } catch (error) {
      console.error('Database error:', error);
      res.status(500).json({
        success: false,
        error: 'Error al actualizar boleto'
      });
    }
  } else if (req.method === 'DELETE') {
    try {
      // Liberar boleto (marcar como no vendido)
      await sql`
        UPDATE tickets 
        SET buyer_name = '', 
            is_sold = FALSE, 
            sold_at = NULL
        WHERE ticket_number = ${ticketNumber}
      `;

      res.status(200).json({
        success: true,
        message: 'Boleto liberado exitosamente'
      });
    } catch (error) {
      console.error('Database error:', error);
      res.status(500).json({
        success: false,
        error: 'Error al liberar boleto'
      });
    }
  } else {
    res.setHeader('Allow', ['PUT', 'DELETE']);
    res.status(405).end(`Method ${req.method} Not Allowed`);
  }
}

// =============================================================================
// pages/index.js - PÃ¡gina principal con estilo mexicano autÃ©ntico
// =============================================================================
import { useState, useEffect } from 'react';
import Head from 'next/head';

export default function RifaMexicana() {
  const [tickets, setTickets] = useState([]);
  const [stats, setStats] = useState({ total: 40, sold: 0, available: 40 });
  const [loading, setLoading] = useState(true);
  const [selectedTicket, setSelectedTicket] = useState(null);
  const [buyerName, setBuyerName] = useState('');
  const [showModal, setShowModal] = useState(false);
  const [celebration, setCelebration] = useState(false);

  useEffect(() => {
    fetchTickets();
  }, []);

  const fetchTickets = async () => {
    try {
      const response = await fetch('/api/tickets');
      const data = await response.json();
      if (data.success) {
        setTickets(data.tickets);
        setStats(data.stats);
      }
    } catch (error) {
      console.error('Error fetching tickets:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleTicketClick = (ticket) => {
    if (!ticket.is_sold) {
      setSelectedTicket(ticket);
      setShowModal(true);
    }
  };

  const handleSellTicket = async () => {
    if (!buyerName.trim()) {
      alert('Â¡Ã“rale! Por favor ingresa el nombre del compadre ğŸ˜„');
      return;
    }

    try {
      const response = await fetch(`/api/tickets/${selectedTicket.ticket_number}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ buyer_name: buyerName }),
      });

      const data = await response.json();
      
      if (data.success) {
        setCelebration(true);
        setTimeout(() => setCelebration(false), 2000);
        alert('Â¡Ã“rale! Â¡Boleto vendido exitosamente! ğŸ‰ğŸ‡²ğŸ‡½');
        setBuyerName('');
        setShowModal(false);
        setSelectedTicket(null);
        fetchTickets();
      } else {
        alert(`Â¡HÃ­jole! Error: ${data.error}`);
      }
    } catch (error) {
      alert('Â¡Ã“rale! Error al procesar la venta');
      console.error('Error selling ticket:', error);
    }
  };

  if (loading) {
    return (
      <div style={{ 
        display: 'flex', 
        justifyContent: 'center', 
        alignItems: 'center', 
        height: '100vh',
        fontSize: '2rem',
        background: 'linear-gradient(45deg, #FF6B35, #F7931E, #FFD23F)',
        color: 'white',
        fontWeight: 'bold',
        textShadow: '2px 2px 4px rgba(0,0,0,0.5)'
      }}>
        ğŸŒ® Cargando la rifa, Â¡espÃ©rate tantito! ğŸ‰
      </div>
    );
  }

  return (
    <>
      <Head>
        <title>ğŸ‡²ğŸ‡½ Â¡GRAN RIFA MEXICANA! ğŸ‰ - Apoyo para la Abuelita</title>
        <meta name="description" content="Â¡Ã“rale! Rifa benÃ©fica estilo mexicano para apoyo mÃ©dico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet" />
      </Head>

      <style jsx global>{`
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Nunito:wght@400;600;700;800&display=swap');
        
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Nunito', sans-serif;
          background: linear-gradient(135deg, #FF6B35 0%, #F7931E 25%, #FFD23F 50%, #C5E063 75%, #06FFA5 100%);
          min-height: 100vh;
          position: relative;
          overflow-x: hidden;
        }

        body::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
          pointer-events: none;
          z-index: 1;
        }

        .papel-picado {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 60px;
          background: repeating-linear-gradient(
            90deg,
            #FF6B35 0px, #FF6B35 20px,
            #FFD23F 20px, #FFD23F 40px,
            #C5E063 40px, #C5E063 60px,
            #FF1744 60px, #FF1744 80px,
            #2196F3 80px, #2196F3 100px
          );
          z-index: 10;
          box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .papel-picado::after {
          content: '';
          position: absolute;
          bottom: -20px;
          left: 0;
          width: 100%;
          height: 20px;
          background: repeating-linear-gradient(
            45deg,
            transparent 0px, transparent 10px,
            #FF6B35 10px, #FF6B35 15px,
            transparent 15px, transparent 25px,
            #FFD23F 25px, #FFD23F 30px,
            transparent 30px, transparent 40px,
            #C5E063 40px, #C5E063 45px
          );
        }

        .container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 80px 20px 20px;
          position: relative;
          z-index: 2;
        }

        .header {
          text-align: center;
          margin-bottom: 40px;
          padding: 40px 20px;
          background: linear-gradient(145deg, #FF1744, #E91E63, #9C27B0);
          border-radius: 25px;
          box-shadow: 
            0 15px 40px rgba(0,0,0,0.3),
            inset 0 -3px 0 rgba(0,0,0,0.2);
          border: 5px solid #FFD23F;
          position: relative;
          overflow: hidden;
        }

        .header::before {
          content: 'ğŸŒŸâœ¨ğŸŒŸâœ¨ğŸŒŸâœ¨ğŸŒŸâœ¨ğŸŒŸâœ¨ğŸŒŸâœ¨ğŸŒŸâœ¨';
          position: absolute;
          top: 10px;
          left: 50%;
          transform: translateX(-50%);
          font-size: 1.2rem;
          animation: sparkle 3s infinite;
        }

        .header::after {
          content: 'ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠğŸ‰';
          position: absolute;
          bottom: 10px;
          left: 50%;
          transform: translateX(-50%);
          font-size: 1.2rem;
          animation: sparkle 3s infinite reverse;
        }

        .header h1 {
          font-family: 'Fredoka One', cursive;
          font-size: 4rem;
          color: #FFD23F;
          text-shadow: 
            3px 3px 0 #FF1744,
            6px 6px 0 #000,
            6px 6px 20px rgba(0,0,0,0.5);
          margin: 20px 0;
          transform: rotate(-2deg);
          animation: bounce 2s infinite;
        }

        .header .subtitle {
          font-size: 1.8rem;
          color: white;
          font-weight: 800;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
          margin: 15px 0;
          background: rgba(255,255,255,0.1);
          padding: 10px 20px;
          border-radius: 20px;
          border: 2px dashed #FFD23F;
        }

        .fiesta-text {
          font-size: 1.3rem;
          color: #FFD23F;
          font-weight: 700;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
          margin-top: 10px;
        }

        .info-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
          gap: 30px;
          margin-bottom: 40px;
        }

        .card {
          background: linear-gradient(145deg, #fff, #f8f9fa);
          border-radius: 20px;
          padding: 30px;
          box-shadow: 
            0 10px 30px rgba(0,0,0,0.2),
            inset 0 1px 0 rgba(255,255,255,0.6);
          border: 4px solid #FF6B35;
          transition: all 0.3s ease;
          position: relative;
          overflow: hidden;
        }

        .card::before {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
          transform: rotate(45deg);
          transition: all 0.6s;
          opacity: 0;
        }

        .card:hover {
          transform: translateY(-10px) rotate(1deg);
          box-shadow: 
            0 20px 50px rgba(0,0,0,0.3),
            inset 0 1px 0 rgba(255,255,255,0.6);
        }

        .card:hover::before {
          opacity: 1;
          left: 100%;
        }

        .card h2 {
          font-family: 'Fredoka One', cursive;
          color: #FF1744;
          margin-bottom: 20px;
          font-size: 1.8rem;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
          border-bottom: 3px solid #FFD23F;
          padding-bottom: 15px;
          text-align: center;
        }

        .prize-amount {
          font-family: 'Fredoka One', cursive;
          font-size: 4rem;
          font-weight: bold;
          color: #2E7D32;
          text-align: center;
          margin: 25px 0;
          text-shadow: 
            2px 2px 0 #FFD23F,
            4px 4px 0 #FF6B35,
            6px 6px 15px rgba(0,0,0,0.3);
          animation: money-dance 2s infinite;
        }

        .cost-amount {
          font-family: 'Fredoka One', cursive;
          font-size: 2.5rem;
          font-weight: bold;
          color: #FF1744;
          text-align: center;
          margin: 20px 0;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .participants-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
          gap: 20px;
          margin-top: 30px;
        }

        .participant {
          background: linear-gradient(145deg, #FFD23F, #FFC107);
          padding: 20px;
          border-radius: 15px;
          text-align: center;
          border: 3px solid #FF6B35;
          transition: all 0.3s ease;
          position: relative;
          cursor: pointer;
          box-shadow: 0 5px 15px rgba(0,0,0,0.2);
          font-weight: 700;
        }

        .participant:hover {
          transform: scale(1.05) rotate(2deg);
          box-shadow: 0 10px 25px rgba(0,0,0,0.3);
          background: linear-gradient(145deg, #FFF176, #FFD23F);
        }

        .participant-number {
          font-family: 'Fredoka One', cursive;
          font-weight: bold;
          color: #FF1744;
          font-size: 1.1rem;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .participant-name {
          margin-top: 8px;
          font-size: 1rem;
          color: #333;
          font-weight: 800;
        }

        .sold {
          background: linear-gradient(145deg, #C8E6C9, #4CAF50) !important;
          border-color: #2E7D32 !important;
          cursor: default !important;
          position: relative;
        }

        .sold::after {
          content: "âœ“ Â¡VENDIDO!";
          position: absolute;
          top: -8px;
          right: -8px;
          background: #2E7D32;
          color: white;
          font-size: 0.7rem;
          font-weight: bold;
          padding: 4px 8px;
          border-radius: 15px;
          border: 2px solid #FFD23F;
          box-shadow: 0 3px 10px rgba(0,0,0,0.3);
          animation: sold-celebration 0.5s ease;
        }

        .progress-section {
          background: linear-gradient(145deg, #FF6B35, #F7931E);
          border-radius: 20px;
          padding: 30px;
          border: 4px solid #FFD23F;
          margin: 30px 0;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .progress-section h2 {
          font-family: 'Fredoka One', cursive;
          color: white;
          text-align: center;
          font-size: 2rem;
          margin-bottom: 20px;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .progress-bar {
          background: rgba(255,255,255,0.3);
          border-radius: 25px;
          overflow: hidden;
          margin: 25px 0;
          border: 3px solid white;
          box-shadow: inset 0 3px 10px rgba(0,0,0,0.2);
        }

        .progress-fill {
          background: linear-gradient(90deg, #2E7D32, #4CAF50, #66BB6A);
          height: 50px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 800;
          font-size: 1.2rem;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
          transition: width 0.8s ease;
          box-shadow: 0 3px 15px rgba(0,0,0,0.3);
        }

        .progress-text {
          text-align: center;
          color: white;
          font-size: 1.3rem;
          font-weight: 800;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
          margin-top: 15px;
        }

        .modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          animation: modal-appear 0.3s ease;
        }

        .modal-content {
          background: linear-gradient(145deg, #FFD23F, #FFC107);
          padding: 40px;
          border-radius: 25px;
          max-width: 450px;
          width: 90%;
          text-align: center;
          border: 5px solid #FF6B35;
          box-shadow: 0 20px 50px rgba(0,0,0,0.5);
          position: relative;
          animation: modal-bounce 0.5s ease;
        }

        .modal-content::before {
          content: 'ğŸŠ Â¡Ã“RALE! ğŸŠ';
          position: absolute;
          top: -15px;
          left: 50%;
          transform: translateX(-50%);
          background: #FF1744;
          color: white;
          padding: 8px 20px;
          border-radius: 20px;
          font-weight: bold;
          border: 3px solid #FFD23F;
        }

        .modal h3 {
          font-family: 'Fredoka One', cursive;
          color: #FF1744;
          margin: 20px 0;
          font-size: 1.8rem;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .input-group {
          margin: 25px 0;
        }

        .input-group label {
          display: block;
          margin-bottom: 10px;
          font-weight: 800;
          color: #333;
          font-size: 1.1rem;
        }

        .input-group input {
          width: 100%;
          padding: 15px;
          border: 3px solid #FF6B35;
          border-radius: 15px;
          font-size: 1.1rem;
          font-weight: 600;
          text-align: center;
          background: white;
          box-shadow: inset 0 3px 8px rgba(0,0,0,0.1);
        }

        .input-group input:focus {
          outline: none;
          border-color: #FF1744;
          box-shadow: 
            inset 0 3px 8px rgba(0,0,0,0.1),
            0 0 0 3px rgba(255, 23, 68, 0.3);
          transform: scale(1.02);
        }

        .btn {
          font-family: 'Nunito', sans-serif;
          background: linear-gradient(145deg, #FF1744, #E91E63);
          color: white;
          padding: 15px 35px;
          border: none;
          border-radius: 25px;
          font-size: 1.1rem;
          font-weight: 800;
          cursor: pointer;
          transition: all 0.3s ease;
          margin: 10px;
          border: 3px solid #FFD23F;
          box-shadow: 0 5px 15px rgba(0,0,0,0.3);
          text-transform: uppercase;
        }

        .btn:hover {
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 10px 25px rgba(0,0,0,0.4);
          background: linear-gradient(145deg, #E91E63, #FF1744);
        }

        .btn:active {
          transform: translateY(-1px) scale(1.02);
        }

        .btn-secondary {
          background: linear-gradient(145deg, #6c757d, #495057);
          border-color: white;
        }

        .btn-secondary:hover {
          background: linear-gradient(145deg, #495057, #6c757d);
        }

        .contact-info {
          background: linear-gradient(145deg, #9C27B0, #673AB7, #3F51B5);
          color: white;
          padding: 40px;
          border-radius: 25px;
          text-align: center;
          margin-top: 40px;
          border: 5px solid #FFD23F;
          box-shadow: 0 15px 40px rgba(0,0,0,0.3);
          position: relative;
        }

        .contact-info::before {
          content: 'ğŸ“ğŸ‡²ğŸ‡½ğŸ“§ğŸ‡²ğŸ‡½ğŸ“ğŸ‡²ğŸ‡½ğŸ“ğŸ‡²ğŸ‡½ğŸ“§ğŸ‡²ğŸ‡½ğŸ“';
          position: absolute;
          top: -15px;
          left: 50%;
          transform: translateX(-50%);
          font-size: 1.5rem;
          animation: contact-dance 3s infinite;
        }

        .contact-info h2 {
          font-family: 'Fredoka One', cursive;
          font-size: 2.2rem;
          margin: 25px 0;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .contact-info p {
          font-size: 1.2rem;
          font-weight: 600;
          margin: 15px 0;
          text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .gracias-section {
          background: linear-gradient(145deg, #FF6B35, #FF1744);
          color: white;
          padding: 30px;
          border-radius: 20px;
          text-align: center;
          margin: 20px 0;
          border: 4px solid #FFD23F;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .celebration-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: radial-gradient(circle, rgba(255,215,0,0.8) 0%, transparent 70%);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 9999;
          font-size: 8rem;
          animation: celebration-explosion 2s ease-out;
          pointer-events: none;
        }

        @keyframes bounce {
          0%, 20%, 50%, 80%, 100% { transform: translateY(0) rotate(-2deg); }
          40% { transform: translateY(-10px) rotate(-2deg); }
          60% { transform: translateY(-5px) rotate(-2deg); }
        }

        @keyframes sparkle {
          0%, 100% { opacity: 1; transform: translateX(-50%) scale(1); }
          50% { opacity: 0.5; transform: translateX(-50%) scale(1.1); }
        }

        @keyframes money-dance {
          0%, 100% { transform: scale(1) rotate(0deg); }
          25% { transform: scale(1.05) rotate(1deg); }
          75% { transform: scale(1.05) rotate(-1deg); }
        }

        @keyframes sold-celebration {
          0% { transform: scale(0) rotate(0deg); opacity: 0; }
          50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
          100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }

        @keyframes modal-appear {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes modal-bounce {
          0% { transform: scale(0.3) rotate(-10deg); }
          50% { transform: scale(1.05) rotate(5deg); }
          70% { transform: scale(0.9) rotate(-2deg); }
          100% { transform: scale(1) rotate(0deg); }
        }

        @keyframes contact-dance {
          0%, 100% { transform: translateX(-50%) rotate(0deg); }
          25% { transform: translateX(-50%) rotate(5deg); }
          75% { transform: translateX(-50%) rotate(-5deg); }
        }

        @keyframes celebration-explosion {
          0% { 
            opacity: 0; 
            transform: scale(0);
          }
          50% { 
            opacity: 1; 
            transform: scale(1.2);
          }
          100% { 
            opacity: 0; 
            transform: scale(2);
          }
        }

        .cactus-decoration {
          position: fixed;
          bottom: 20px;
          right: 20px;
          font-size: 3rem;
          z-index: 5;
          animation: cactus-sway 4s infinite;
        }

        @keyframes cactus-sway {
          0%, 100% { transform: rotate(0deg); }
          50% { transform: rotate(10deg); }
        }

        @media (max-width: 768px) {
          .header h1 {
            font-size: 2.5rem;
          }
          
          .participants-grid {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
          }
          
          .prize-amount {
            font-size: 2.5rem;
          }

          .papel-picado {
            height: 40px;
          }

          .container {
            padding: 60px 15px 20px;
          }
        }
      `}</style>

      <div className="papel-picado"></div>
      
      <div className="container">
        <div className="header">
          <h1>Â¡GRAN RIFA MEXICANA!</h1>
          <p className="subtitle">ğŸŒ® Â¡Apoyo para la Abuelita Querida! ğŸŒ®</p>
          <p className="fiesta-text">Â¡Ãndale pues! Â¡Todos a echarle ganas! ğŸ‡²ğŸ‡½</p>
        </div>

        <div className="info-cards">
          <div className="card">
            <h2>ğŸ† Â¡EL GRAN PREMIO! ğŸ†</h2>
            <div className="prize-amount">$5,000</div>
            <p style={{textAlign: 'center', fontSize: '1.1rem', fontWeight: '600'}}>
              Â¡Cinco mil pesitos mexicanos en efectivo! ğŸ’°<br/>
              <span style={{color: '#FF1744'}}>Â¡Ã“rale quÃ© chulada de premio!</span>
            </p>
          </div>

          <div className="card">
            <h2>ğŸ« Â¡TU BOLETO! ğŸ«</h2>
            <div className="cost-amount">$120</div>
            <p style={{textAlign: 'center', fontSize: '1.1rem', fontWeight: '600'}}>
              Â¡Solo ciento veinte pesitos! ğŸª™<br/>
              <span style={{color: '#FF1744'}}>Â¡EstÃ¡ padrÃ­simo el precio!</span>
            </p>
          </div>

          <div className="card">
            <div className="progress-section">
              <h2>ğŸš€ Â¡VAMOS QUE VAMOS! ğŸš€</h2>
              <div className="progress-bar">
                <div 
                  className="progress-fill" 
                  style={{ width: `${(stats.sold / stats.total) * 100}%` }}
                >
                  {stats.sold} de {stats.total} Â¡VENDIDOS!
                </div>
              </div>
              <div className="progress-text">
                Â¡Faltan {stats.available} boletos para el sorteo! ğŸ‰
              </div>
            </div>
          </div>
        </div>

        <div className="card">
          <h2>ğŸª Â¡LOS VALIENTES PARTICIPANTES! ğŸª</h2>
          <p style={{textAlign: 'center', fontSize: '1.2rem', fontWeight: '700', color: '#FF1744', marginBottom: '20px'}}>
            ğŸŒŸ Â¡Haz clic en un boleto disponible para apartarlo! ğŸŒŸ
          </p>
          <div className="participants-grid">
            {tickets.map((ticket) => (
              <div
                key={ticket.id}
                className={`participant ${ticket.is_sold ? 'sold' : ''}`}
                onClick={() => handleTicketClick(ticket)}
              >
                <div className="participant-number">
                  ğŸ« #{ticket.ticket_number.toString().padStart(2, '0')}
                </div>
                <div className="participant-name">
                  {ticket.is_sold ? ticket.buyer_name : 'Â¡DISPONIBLE!'}
                </div>
              </div>
            ))}
          </div>
        </div>

        <div className="gracias-section">
          <h2 style={{fontFamily: "'Fredoka One', cursive", margin: '0 0 15px 0', fontSize: '2rem'}}>
            â¤ï¸ Â¡MUCHÃSIMAS GRACIAS, COMPADRES! â¤ï¸
          </h2>
          <p style={{fontSize: '1.3rem', fontWeight: '700'}}>
            ğŸ™ Cada pesito cuenta para ayudar a la abuelita ğŸ™<br/>
            Â¡Dios se los pague por su corazÃ³n tan grande! ğŸ‡²ğŸ‡½
          </p>
        </div>

        <div className="contact-info">
          <h2>ğŸ“± Â¡CONTÃCTANOS AHORITA! ğŸ“±</h2>
          <p><strong>ğŸŒ® Para apartar tu boleto:</strong></p>
          <p>ğŸ“± WhatsApp: [Tu nÃºmero aquÃ­]</p>
          <p>ğŸ“§ Email: [Tu email aquÃ­]</p>
          <p>ğŸ“ UbicaciÃ³n: [Tu ciudad, MÃ©xico]</p>
          <br />
          <div style={{background: 'rgba(255,255,255,0.2)', padding: '20px', borderRadius: '15px', border: '2px dashed #FFD23F'}}>
            <p style={{fontSize: '1.4rem', fontWeight: '800'}}>
              ğŸŠ Â¡La rifa se hace cuando se vendan todos los boletos! ğŸŠ<br/>
              ğŸ“º Â¡Con la mismÃ­sima LoterÃ­a Nacional! ğŸ“º
            </p>
          </div>
        </div>
      </div>

      <div className="cactus-decoration">ğŸŒµ</div>

      {celebration && (
        <div className="celebration-overlay">
          ğŸ‰ğŸ‡²ğŸ‡½ğŸŠ
        </div>
      )}

      {showModal && selectedTicket && (
        <div className="modal" onClick={() => setShowModal(false)}>
          <div className="modal-content" onClick={(e) => e.stopPropagation()}>
            <h3>ğŸ« Boleto #{selectedTicket.ticket_number.toString().padStart(2, '0')}</h3>
            <p style={{fontSize: '1.1rem', fontWeight: '600', color: '#333', margin: '10px 0'}}>
              Â¡Ã“rale! Â¿QuiÃ©n se lleva este boleto?
            </p>
            <div className="input-group">
              <label htmlFor="buyerName">ğŸ™‹â€â™‚ï¸ Nombre del compadre/comadre:</label>
              <input
                type="text"
                id="buyerName"
                value={buyerName}
                onChange={(e) => setBuyerName(e.target.value)}
                placeholder="Nombre completo del participante"
                onKeyPress={(e) => e.key === 'Enter' && handleSellTicket()}
              />
            </div>
            <button className="btn" onClick={handleSellTicket}>
              ğŸ‰ Â¡VENDER BOLETO! ğŸ‰
            </button>
            <button 
              className="btn btn-secondary" 
              onClick={() => {
                setShowModal(false);
                setBuyerName('');
                setSelectedTicket(null);
              }}
            >
              âŒ Cancelar
            </button>
          </div>
        </div>
      )}
    </>
  );
}
